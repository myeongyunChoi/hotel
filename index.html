<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="css/main.css">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.0.min.js"></script>
</head>

<body>
    <div id="wrap">
        <header></header>
        <div id="main_view"></div>
        <div id="introduce"></div>
        <div id="hotell_more">
            <ul class="slide">
                <li>
                    <div>
                        <h1>1</h1>
                    </div>
                </li>
                <li>
                    <div>
                        <h1>2</h1>
                    </div>
                </li>
                <li>
                    <div>
                        <h1>3</h1>
                    </div>
                </li>
                <li>
                    <div>
                        <h1>4</h1>
                    </div>
                </li>
                <li>
                    <div>
                        <h1>5</h1>
                    </div>
                </li>
            </ul>
        </div>
        <div id="room"></div>
        <div id="shilla"></div>
    </div>

    <script>

        const cont = document.getElementById('introduce');
        const slide_wrap = document.getElementById('hotell_more');
        const slide_start = slide_wrap.offsetTop;
        const slider = document.querySelector('.slide');
        const s_wid = slider.offsetWidth;
        //스크롤 내리고 일정 지점부터 시작되도록 변경
        //slide의 오프셋 탑값 가져와서 실행 
        const s_li = slider.children;

        let win_wid = window.innerWidth;
        let s_move_max = (s_wid - win_wid) * -1;

        let mov = 0;


        cont.addEventListener('wheel', function (e) {
            e.preventDefault;
            // if (e.deltaY > 0) {//휠값이양수일 때
            //     slide_wrap.style.top = `0%`;
            // }
        });

        slide_wrap.addEventListener('wheel', function (e) {
            e.preventDefault;
            // if (e.deltaY < 0 && mov >= 0) {//스크롤 값이 음수일 때 = 스크롤을 올릴 때
            //     setTimeout(() => {
            //         slide_wrap.style.top = `100%`;
            //     }, 500);//2번째 섹션이 아래로 밀림
            //     return;
            // }
            move_slider(e.deltaY);
            on_indicator();
        });

        function move_slider(amount) {
            mov -= amount;
            if (mov < s_move_max) {//-휠값이 슬라이드 전체 넓이보다 작을 때
                mov = s_move_max;//-휠값이 슬라이드 움직임 정도와 같ㅇ아짐
                return;
            } else if (mov > 0) {//휠값이 음수가 되었을 때= 스크롤 올릴 때
                mov = 0;//휠값은 0이 되고
                return;
            }
            slider.style.transform = `translateX(${mov}px)`;
            li_upDown(amount);
        }
    </script>
</body>

</html>